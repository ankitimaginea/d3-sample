<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="./app/css/us-heat-map-styles.css">
    <link rel="stylesheet" href="./lib/d3.slider.css">
    <link rel="stylesheet" href="./app/css/styles.css">
    <title>Click Stream Report</title>
</head>

<body>
    <div id="header">
    <select name="view" id="countView" onchange="return toggleView(event)">
        <option id="dailyCount" selected="true">Total Count</option>
        <option id="hourlyCount">Hourly Count</option>
      </select>
    &nbsp; of Hits per state for Nov and Dec 2014
    </div>

    <div id='main-content'>

      <div id="graph-container">
      </div>

      <div id="hourlyCountView" style="display:none">
        <select name="view" id="hourly-count-view">
          <option class="hourly-count" selected="true">0</option>
          <option class="hourly-count">1</option>
          <option class="hourly-count">2</option>
          <option class="hourly-count">3</option>
          <option class="hourly-count">4</option>
          <option class="hourly-count">5</option>
          <option class="hourly-count">6</option>
          <option class="hourly-count">7</option>
          <option class="hourly-count">8</option>
          <option class="hourly-count">9</option>
          <option class="hourly-count">10</option>
          <option class="hourly-count">11</option>
          <option class="hourly-count">12</option>
          <option class="hourly-count">13</option>
          <option class="hourly-count">14</option>
          <option class="hourly-count">15</option>
          <option class="hourly-count">16</option>
          <option class="hourly-count">17</option>
          <option class="hourly-count">18</option>
          <option class="hourly-count">19</option>
          <option class="hourly-count">20</option>
          <option class="hourly-count">21</option>
          <option class="hourly-count">22</option>
          <option class="hourly-count">23</option>
        </select>
        <button id='prev-btn'>&laquo;Prev</button>
        <button id="play-btn">Play</button>
        <button id='next-btn'>Next&raquo;</button>
      </div>
    </div>
    <script src="./lib/d3.min.js"></script>
    <script src="./lib/jquery-2.1.3.min.js"></script>
    <script src="./lib/jquery-ui.min.js"></script>
    <script src="./lib/d3.slider.js"></script>
    <script src="./lib/topojson.v1.min.js"></script>
    <script src="./app/js/main.js" ></script>
    <script src="./app/js/us-heat-map.js"></script>
    <script src="./data/st.data.js"></script>

    <script>

    function toggleView(event) {
        var select = document.getElementById('countView');
        var view = select.options[select.selectedIndex].id;
        if (view === 'dailyCount') {
            $('body').css('background-color', 'black');
            renderCount(true);

            if(changeDuration){
              window.clearInterval(changeDuration);
              changeDuration = undefined;
              $('#play-btn').text('Play');
            }
        } else {
          $('body').css('background-color', '#' + bgColor[d3.select('#hourly-count-view')[0][0].selectedIndex]);
            renderCount(false);
        }
    }

    window.onload = function(){
    		renderCount(true);
    };

    function renderCount(daily) {
        if (daily) {
            // toggleNode(document.getElementById('dailyCountView'), true);
            toggleNode(document.getElementById('hourlyCountView'), false);
            GRAPHZ.start('does-not-matter', true);
        } else {
            // toggleNode(document.getElementById('dailyCountView'), false);
            toggleNode(document.getElementById('hourlyCountView'), true);
            GRAPHZ.start('does-not-matter');
        }
    }

    function toggleNode(node, display) {
        node.style.display = (display)? 'block':'none';
    }
    </script>
</body>
</html>
